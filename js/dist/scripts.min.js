let pokemonRepository=function(){let g=[];function a(a){let b=a.detailsUrl;return e(),fetch(b).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.types=b.types,k()}).catch(function(a){console.error(a),k()})}function b(b,c){a(b).then(function(){h(b,c)}).catch(function(){console.log(`failed to show ${b}`)})}function h(a,e){let b=document.querySelector(".modal"),d=e.target;b.classList.add("show"),b.classList.remove("hide"),d.dataset.isClicked=!0;let g=document.querySelector("#navTotalizer"),h=document.querySelectorAll('[data-is-clicked="true"]').length;g.innerText=h;let k=document.querySelector("button.close");k.addEventListener("click",i);let l=document.querySelector(".modal-title"),m=j(a.name);l.innerText=m;let n=document.querySelector(".modalImg");n.src=a.imageUrl;let o=document.querySelector(".modal-body"),p=f(a.height),c=a.types[0].type.name;o.innerHTML=`
      <b>Height: </b>${a.height}
      <p><em>${p}</em></p>
      <b>Type: </b> ${j(c)}`;let q=document.querySelector(".modal-content");q.classList.add(c),d.classList.add(c,"borderW-3px"),window.addEventListener("keydown",a=>{"Escape"===a.key&&b.classList.contains("show")&&i()}),b.addEventListener("click",a=>{a.target===b&&i()})}function i(){let a=document.querySelector(".modal");a.classList.remove("show"),a.classList.add("hide"),document.querySelector(".modal-content").setAttribute("class","modal-content")}function j(a){return a.charAt(0).toUpperCase()+a.slice(1)}function c(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a?g.push(a):console.log(`failed to add ${a}`)}function d(){return g}function e(){let a=document.createElement("div");a.classList.add("loading-message"),a.innerText="Rounding up those pesky Pokemon...",document.querySelector("ul.pokemon-list").appendChild(a)}function k(){let a=document.querySelector("div.loading-message");document.querySelector("ul.pokemon-list").removeChild(a)}function f(a){return a>=12?"This thing's HUGE! O_O":a<12&&a>=8?"That ain't small o_o":a<8&&a>=4?"Kind of a shorty -_-":"What a tiny little Pokemon! ^o^"}return{add:c,getAll:d,addListItem:function(d){let c=document.createElement("li"),a=document.createElement("button");c.classList.add("group-list-item","row","justify-content-center","mb-2"),a.innerText=`${d.name}`,a.classList.add("poke","btn","btn-light","col-12","col-lg-6"),a.addEventListener("click",function(a){b(d,a)}),c.appendChild(a),a.setAttribute("data-target",".modal"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-is-clicked","false"),document.querySelector(".pokemon-list").appendChild(c)},phraseHeight:f,showDetails:b,loadList:function(){return e(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){c({name:j(a.name),detailsUrl:a.url})}),k()}).catch(function(a){console.error(a),k()})},loadDetails:a,showLoadingMessage:e}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
